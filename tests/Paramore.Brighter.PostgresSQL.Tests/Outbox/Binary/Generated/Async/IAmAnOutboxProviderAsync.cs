// <auto-generated>
// This file is auto-generated by Paramore.Brighter.Test.Generator
// </auto-generated>

using System.Collections.Generic;
using System.Threading.Tasks;

namespace Paramore.Brighter.PostgresSQL.Tests.Outbox.Binary.Async;

/// <summary>
/// Provider for managing outbox storage and creating outbox instances.
/// </summary>
public interface IAmAnOutboxProviderAsync
{
    /// <summary>
    /// Creates the outbox data store.
    /// </summary>
    Task CreateStoreAsync();

    /// <summary>
    /// Deletes the outbox data store and removes the specified messages.
    /// </summary>
    /// <param name="messages">The messages to remove from the store.</param>
    Task DeleteStoreAsync(IEnumerable<Message> messages);

    /// <summary>
    /// Creates a new outbox instance for storing and retrieving messages.
    /// </summary>
    /// <returns>A new <see cref="IAmAnOutboxSync{TMessage, TTransaction}"/> instance.</returns>
    IAmAnOutboxAsync<Message, System.Data.Common.DbTransaction> CreateOutboxAsync();

    /// <summary>
    /// Gets all the messages in the outbox.
    /// </summary>
    /// <returns>A list of all messages in the outbox.</returns>
    Task<IEnumerable<Message>> GetAllMessagesAsync();

    /// <summary>
    /// Creates a new transaction provider.
    /// </summary>
    /// <returns>A new <see cref="IAmABoxTransactionProvider{TTransaction}"/> instance.</returns>
    IAmABoxTransactionProvider<System.Data.Common.DbTransaction> CreateTransactionProvider();
}
