// <auto-generated>
// This file is auto-generated by Paramore.Brighter.Test.Generator
// </auto-generated>

using System.Runtime.CompilerServices;
using System.Threading;
using System.Threading.Tasks;

namespace Paramore.Brighter.RMQ.Async.Tests.MessagingGateway;

public interface IAmAMessageGatewayProactorProvider
{
    RoutingKey GetOrCreateRoutingKey([CallerMemberName]string testName = null!);
    ChannelName GetOrCreateChannelName([CallerMemberName]string testName = null!);

    Paramore.Brighter.MessagingGateway.RMQ.Async.RmqPublication CreatePublication(RoutingKey routingKey);
    Paramore.Brighter.MessagingGateway.RMQ.Async.RmqSubscription CreateSubscription(RoutingKey routingKey, ChannelName channelName, OnMissingChannel makeChannel);

    Task<IAmAMessageProducerAsync> CreateProducerAsync(Paramore.Brighter.MessagingGateway.RMQ.Async.RmqPublication publication, CancellationToken cancellationToken = default);
    Task<IAmAChannelAsync> CreateChannelAsync(Paramore.Brighter.MessagingGateway.RMQ.Async.RmqSubscription subscription, CancellationToken cancellationToken = default);

    Task CleanUpAsync(IAmAMessageProducerAsync? producer, IAmAChannelAsync? channel);
}
