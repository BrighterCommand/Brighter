# BRT005: UnWrapWithAttribute Correct Usage

## Description
This rule ensures that "Unwrap" attributes are correctly applied to methods that map messages to domain requests (typically `MapToRequest`).

## Why is this a warning?
Applying an "Unwrap" attribute to the wrong mapping method can disrupt the flow of message processing in Brighter's pipeline.

## How to fix
Ensure that attributes intended for unwrapping are applied to the `MapToRequest` method.

### Example
Check your `IAmAMessageMapper<T> , IAmAMessageMapperAsync<T>` implementation to ensure attributes are on the correct method.
```csharp
    public class UnwrapWithMapperSample: IAmAMessageMapper<SampleEvent>
    {
      /*
       ommited code
       */

       // Error: Attributes should be assigned to the MapToRequest method
        [Decompress(0)]
                public Message MapToMessage(SampleEvent request, Publication publication)
        {
                  /* ommited code*/
        }
       /* ommited code */
    }
  // Fixed: Attributes assigned to the MapToRequest method
        public class UnwrapWithMapperSample: IAmAMessageMapper<SampleEvent>
    {
      /* ommited code */

        [Decompress(0)] 
        public SampleEvent MapToRequest(Message message)
        {
              /* ommited code*/
        }

       /* ommited code */
    }
```
